<div id="tm-main" class="tm-main uk-section uk-section-default" uk-height-viewport="expand: true"
     style="box-sizing: border-box;">
  <div class="uk-container uk-container-expand">

    <!-- TOP HELP CONTENT -->
    <app-help-content #topHelperContent [position]="'top'"
                      [ngClass]="topHelperContent.isPresent()?'uk-margin-medium-top uk-margin-medium-bottom':'clear-style'">
    </app-help-content>

    <div id="myGrid" class="uk-grid" uk-grid="">

      <div class="uk-width-1-1">

        <table id="myTable" class="uk-table uk-text-left">
          <thead class="uk-width-1-1 uk-margin-bottom tablehead" style="">
          <!--<thead class="header uk-width-1-1 uk-margin-bottom">-->
          <tr>
            <th class="uk-width-1-4"></th>
            <th *ngFor="let richService of richServices; let i = index;" class="uk-width-1-4" [ngClass]="{evenColumn: i%2==1}">
              <div class="uk-margin-bottom uk-margin-top">
                <a (click)="this.comparisonService.addOrRemove(richService.service,true)" title="Remove from comparison list"
                   uk-tooltip="delay: 500">
                  <img src="../../../assets/images/icons/ic_remove.svg">
                  <span class="removeLink uk-margin-small-left">Remove</span>
                </a>
              </div>
            </th>
          </tr>
          <tr>
            <th class="uk-width-1-4"></th>
            <th *ngFor="let richService of richServices; let i = index;" class="uk-width-1-4" [ngClass]="{evenColumn: i%2==1}">
              <div class="uk-margin-bottom">
                <img [src]="richService.service.logo || nologo" style="max-height: 60px; width: auto;">
              </div>
            </th>
          </tr>
          <tr>
            <th class="uk-width-1-4">
            </th>
            <th *ngFor="let richService of richServices; let i = index;" class="uk-width-1-4" [ngClass]="{evenColumn: i%2==1}">
              <div class="serviceBrandName">
                {{richService.service.name}}
              </div>
            </th>
          </tr>
          <tr>
            <th class="uk-width-1-4"></th>
            <th *ngFor="let richService of richServices; let i = index;" class="uk-width-1-4" [ngClass]="{evenColumn: i%2==1}">
              <div class="tagLine uk-margin-bottom">
                "{{richService.service.tagline}}"
              </div>
            </th>
          </tr>
          <tr>
            <th class="uk-width-1-4"></th>
            <th *ngFor="let richService of richServices; let i = index;" class="uk-width-1-4" [ngClass]="{evenColumn: i%2==1}">
              <div class="uk-margin-bottom">
                <star-rating-comp #rating (click)="rateService(i, rating.rating)"
                                  [starType]="'svg'" [rating]="richService.hasRate" [step]="1"
                                  [showHalfStars]="true" [readOnly]=!this.authenticationService.isLoggedIn()
                                  [size]="'medium'"
                                  [staticColor]="'ok'" class="uk-inline starRating"
                                  labelText="{{richService.hasRate}} ({{ richService.ratings }})" [labelVisible]="true"
                                  [labelPosition]="'right'"
                                  [hoverEnabled]="true">
                </star-rating-comp>
                <span class="uk-margin-medium-left">
                    <img src="../../../../assets/images/icons/ic_visit_icon.svg">
                    <span class="statsNumbers">&nbsp;&nbsp;({{ richService.views }})</span>
                </span>
              </div>
            </th>
          </tr>
          </thead>
          <tbody>
          <tr>
            <td class="uk-width-1-4 fieldName">Options</td>
            <td *ngFor="let richService of richServices; let i = index;" class="uk-width-1-4 fieldValue"
                [ngClass]="{evenColumn: i%2==1}">
              <ng-template [ngIf]="richService.service.options && richService.service.options !== []">
                {{richService.service.options}}
              </ng-template>
              <ng-template [ngIf]="!richService.service.options || richService.service.options === []">
                /
              </ng-template>
            </td>
          </tr>
          <tr>
            <td class="uk-width-1-4 fieldName">Target Users</td>
            <td *ngFor="let richService of richServices; let i = index;" class="uk-width-1-4 fieldValue"
                [ngClass]="{evenColumn: i%2==1}">
              <ng-template [ngIf]="richService.targetUsersNames && richService.targetUsersNames !== []">
                {{richService.targetUsersNames}}
              </ng-template>
              <ng-template [ngIf]="!richService.targetUsersNames || richService.targetUsersNames === []">
                /
              </ng-template>
            </td>
          </tr>
          <tr>
            <td class="uk-width-1-4 fieldName">User Value</td>
            <td *ngFor="let richService of richServices; let i = index;" class="uk-width-1-4 fieldValue"
                [ngClass]="{evenColumn: i%2==1}">
              <ng-template [ngIf]="richService.service.userValue && richService.service.userValue!=''"> <!-- FIXME -->
                {{richService.service.userValue}}
              </ng-template>
              <ng-template [ngIf]="!richService.service.userValue || richService.service.userValue==''"> <!-- FIXME -->
                /
              </ng-template>
            </td>
          </tr>
          <tr>
            <td class="uk-width-1-4 fieldName">User Base</td>
            <td *ngFor="let richService of richServices; let i = index;" class="uk-width-1-4 fieldValue"
                [ngClass]="{evenColumn: i%2==1}">
              <ng-template [ngIf]="richService.service.userBaseList && richService.service.userBaseList !== []"> <!-- FIXME -->
                {{richService.service.userBaseList}}
              </ng-template>
              <ng-template [ngIf]="!richService.service.userBaseList || richService.service.userBaseList === []"> <!-- FIXME -->
                /
              </ng-template>
            </td>
          </tr>
          <tr>
            <td class="uk-width-1-4 fieldName">Funding</td>
            <td *ngFor="let richService of richServices; let i = index;" class="uk-width-1-4 fieldValue"
                [ngClass]="{evenColumn: i%2==1}">
              <ng-template [ngIf]="richService.fundedByNames && richService.fundedByNames !== []">
                {{richService.fundedByNames}}
              </ng-template>
              <ng-template [ngIf]="!richService.fundedByNames || richService.fundedByNames === []">
                /
              </ng-template>
            </td>
          </tr>
          <tr>
            <td class="uk-width-1-4 fieldName">Version</td>
            <td *ngFor="let richService of richServices; let i = index;" class="uk-width-1-4 fieldValue"
                [ngClass]="{evenColumn: i%2==1}">
              <ng-template [ngIf]="richService.service.version && richService.service.version!=''">
                {{richService.service.version}}
              </ng-template>
              <ng-template [ngIf]="!richService.service.version || richService.service.version==''">
                /
              </ng-template>
            </td>
          </tr>
          <tr>
            <td class="uk-width-1-4 fieldName">Lifecycle Status</td>
            <td *ngFor="let richService of richServices; let i = index;" class="uk-width-1-4 fieldValue"
                [ngClass]="{evenColumn: i%2==1}">
              <ng-template [ngIf]="richService.service.trl && richService.service.trl !== ''">
                {{richService.service.trl}}
              </ng-template>
              <ng-template [ngIf]="!richService.service.trl || richService.service.trl === ''">
                /
              </ng-template>
            </td>
          </tr>
          <tr>
            <td class="uk-width-1-4 fieldName">TRL</td>
            <td *ngFor="let richService of richServices; let i = index;" class="uk-width-1-4 fieldValue"
                [ngClass]="{evenColumn: i%2==1}">
              <ng-template [ngIf]="richService.trlName && richService.trlName !== ''">
                {{richService.trlName}}
              </ng-template>
              <ng-template [ngIf]="!richService.trlName || richService.trlName === ''">
                /
              </ng-template>
            </td>
          </tr>
          <tr>
            <td class="uk-width-1-4 fieldName">Category</td>
            <td *ngFor="let richService of richServices; let i = index;" class="uk-width-1-4 fieldValue"
                [ngClass]="{evenColumn: i%2==1}">
              <ng-template [ngIf]="richService.categoryName && richService.categoryName!=''">
                {{richService.categoryName}}
              </ng-template>
              <ng-template [ngIf]="!richService.categoryName || richService.categoryName==''">
                /
              </ng-template>
            </td>
          </tr>
          <tr>
            <td class="uk-width-1-4 fieldName">Subcategory</td>
            <td *ngFor="let richService of richServices; let i = index;" class="uk-width-1-4 fieldValue"
                [ngClass]="{evenColumn: i%2==1}">
              <ng-template [ngIf]="richService.superCategoryName && richService.superCategoryName !== ''">
                {{richService.subCategoryNames}}
              </ng-template>
              <ng-template [ngIf]="!richService.superCategoryName || richService.superCategoryName === ''">
                /
              </ng-template>
            </td>
          </tr>
          <tr>
            <td class="uk-width-1-4 fieldName">Places</td>
            <td *ngFor="let richService of richServices; let i = index;" class="uk-width-1-4 fieldValue"
                [ngClass]="{evenColumn: i%2==1}">
              <ng-template [ngIf]="richService.placeNames && richService.placeNames !== []">
                {{richService.placeNames | join:", "}}
              </ng-template>
              <ng-template [ngIf]="!richService.placeNames || richService.placeNames === []">
                /
              </ng-template>
            </td>
          </tr>
          <tr>
            <td class="uk-width-1-4 fieldName">Languages</td>
            <td *ngFor="let richService of richServices; let i = index;" class="uk-width-1-4 fieldValue"
                [ngClass]="{evenColumn: i%2==1}">
              <ng-template [ngIf]="richService.languageNames && richService.languageNames !== []">
                {{richService.languageNames | join:", "}}
              </ng-template>
              <ng-template [ngIf]="!richService.languageNames || richService.languageNames === []">
                /
              </ng-template>
            </td>
          </tr>
          <tr class="noBorderTop">
            <td class="uk-width-1-4"></td>
            <td *ngFor="let richService of richServices; let i = index;" class="uk-width-1-4" [ngClass]="{evenColumn: i%2==1}">
              <button (click)="addToFavourites(i)"
                      class="uk-button uk-button-default uk-width-1-1 favoriteButton" title="Favourites"
                      uk-tooltip="delay: 500">
                <i [ngClass]="richService.isFavourite?'fa fa-heart':'fa fa-heart-o'"></i>
                <!--<span> ({{ richService.favourites }})</span>-->
                &nbsp; Favorite
              </button>
            </td>
          </tr>
          </tbody>
        </table>

      </div>

      <!-- RIGHT HELP CONTENT -->
      <app-aside-help-content #rightHelperContent [position]="'right'"
                              [ngClass]="rightHelperContent.isPresent()?'tm-sidebar uk-width-1-4@m uk-first-column':'clear-style'">
      </app-aside-help-content>

    </div>

    <!-- BOTTOM HELP CONTENT -->
    <app-help-content #bottomHelperContent [position]="'bottom'"
                      [ngClass]="bottomHelperContent.isPresent()?'uk-margin-medium-top uk-margin-medium-bottom':'clear-style'">
    </app-help-content>

  </div>
</div>

