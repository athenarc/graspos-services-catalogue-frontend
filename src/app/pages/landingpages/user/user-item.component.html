<div *ngIf="!ready" class="uk-margin-large-top" style="height: 400px">
  <div class="loader-big"></div>
</div>

<ng-container *ngIf="ready">

  <div class="uk-section uk-section-primary uk-preserve-color uk-margin-xlarge-bottom uk-padding-remove" uk-height-viewport="offset-bottom: 30">
    <div class="uk-grid uk-child-width-1-1@s uk-child-width-1-2@m uk-child-width-1-2@l">

      <div class="uk-flex-last@m uk-flex-last@l">
        <img src="{{userVoc.extras.image}}">
      </div>

      <div class="uk-first-column">
        <div class="uk-padding-large uk-margin-large-left@m uk-margin-large-left@l uk-margin-large-top">
          <div *ngIf="userVoc.extras.tagline" class="h1-subHeader">{{userVoc.extras.tagline}}</div>
          <h1>{{userVoc.name}}</h1>
          <p class="big-text uk-margin-medium-top">{{userVoc.description}}</p>
        </div>
      </div>

    </div>
  </div>

</ng-container>


<div *ngIf="ready && portfoliosMap.size === portfolios.length + 1" class="uk-section uk-section-default uk-margin-xlarge-bottom">
  <div class="uk-container uk-container-medium">

    <h1>Which service is right for you?</h1>

    <ul uk-tab="connect: #portfolios-tabs; animation: uk-animation-fade" class="uk-tab uk-child-width-expand uk-margin-large">
      <li>
        <a class="">All</a>
      </li>
      <li *ngFor="let portfolio of portfolios; let i = index">
        <a class="uk-text-nowrap">{{portfolio.name}}</a>
      </li>
    </ul>

    <ul id="portfolios-tabs" class="uk-switcher">
      <li>
        <div class="uk-grid uk-margin-large-top uk-grid-large">

          <div class="uk-width-expand">

            <div class="uk-grid uk-grid-match uk-child-width-1-1@s uk-child-width-1-3@m uk-child-width-1-3@l uk-margin-large-top" uk-height-match="target: > div > .uk-card > .uk-card-body">

              <div *ngFor="let service of portfoliosMap.get('all')" class="uk-grid-margin">
                <div class="uk-card uk-card-default service-list-card">
                  <div class="uk-card-media-top">
                    <img src="{{service.extras['image']}}" alt="">
                  </div>
                  <div class="uk-card-body uk-flex uk-flex-column uk-flex-between">
                    <div>
                      <div class="h5-subheader">{{service.name}}</div>
                      <h5 class="">{{service.tagline}}</h5>
                      <p [innerHTML]="service.extras['pitch']"></p>
                    </div>
                    <div class=""><a [routerLink]="['/service/', service.id]" class="uk-button uk-button-text">Learn more</a></div>
                  </div>
                </div>
              </div>

            </div>

          </div>

        </div>
      </li>
      <li *ngFor="let portfolio of portfolios; let i = index">

        <div class="uk-grid uk-margin-large-top uk-grid-large">

          <div class="uk-width-expand">

            <div class="uk-grid uk-grid-match uk-child-width-1-1@s uk-child-width-1-3@m uk-child-width-1-3@l uk-margin-large-top" uk-height-match="target: > div > .uk-card > .uk-card-body">

              <div *ngIf="portfoliosMap.get(portfolio.id).length === 0" >
                <p>Currently there no services for this portfolio type</p>
              </div>

              <div *ngFor="let service of portfoliosMap.get(portfolio.id)" class="uk-grid-margin">
                <div class="uk-card uk-card-default service-list-card">
                  <div class="uk-card-media-top">
                    <img src="{{service.extras['image']}}" alt="">
                  </div>
                  <div class="uk-card-body uk-flex uk-flex-column uk-flex-between">
                    <div>
                      <div class="h5-subheader">{{service.name}}</div>
                      <h5 class="">{{service.tagline}}</h5>
                      <p [innerHTML]="service.extras['pitch']"></p>
                    </div>
                    <div class="">
                      <a [routerLink]="['/service/', service.id]" class="uk-button uk-button-text">Learn more</a>
                    </div>
                  </div>
                </div>
              </div>

            </div>

          </div>

        </div>


      </li>
    </ul>

  </div>
</div>

